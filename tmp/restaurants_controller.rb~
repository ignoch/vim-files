class RestaurantsController < InheritedResources::Base
  layout "dashboard"
  add_breadcrumb 'Restaurantes', 'restaurants_path'

  def index
    add_breadcrumb 'Listado', 'restaurants_path'
    @restaurants = Restaurant.all
  end

  def new
    add_breadcrumb 'Agregar Restaurante', 'restaurants_path'
    @restaurant = Restaurant.new
  end

  def edit
    add_breadcrumb 'Edicion de Restaurante', ''
    @restaurant = Restaurant.find(params[:id])
  end

  def create
    create!(:notice => "Restaurante agregado con exito"){ restaurants_path }
  end

  def search
    add_breadcrumb 'Busqueda', ''
    @restaurants = Restaurant.search(params[:search])
    if @restaurants.empty?
      flash[:notice] = "No hay resultados con ese criterio de busqueda."
    end
    render :index
  end
  
end
