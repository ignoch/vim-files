class Group < ActiveRecord::Base
  has_many :equips, :dependent => :nullify
  belongs_to :restaurant
  belongs_to :playlist
  validates :name, :restaurant_id, :presence => true

  scope :search, lambda { |term|
    where("name LIKE '%#{term}%'")
  }

  scope :asigned, lambda {
    where("restaurant_id IS NOT NULL")
  }

  scope :unasigned, lambda {
   where("restaurant_id IS NULL")
  }


  def num_equips
    self.equips.count
  end

#  def asign_equips_to_campaign(campaign)
#    self.equips.each do |equip|
#      equip.campaign = campaign
#      equip.save
#    end
#  end
#
#  def remove_campaign_from_equips
#    self.equips.each do |equip|
#      equip.campaign = nil
#      equip.save
#    end
#  end

end
